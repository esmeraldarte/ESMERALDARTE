<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificados Gemológicos de Esmeraldas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .certificate-container {
            perspective: 1000px;
        }
        .certificate {
            transition: transform 0.5s;
            transform-style: preserve-3d;
        }
        .certificate:hover {
            transform: rotateY(10deg);
        }
        .admin-panel {
            display: none;
        }
        .info-section {
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8eb 100%);
        }
        .whatsapp-float {
            position: fixed;
            width: 60px;
            height: 60px;
            bottom: 40px;
            right: 40px;
            background-color: #25d366;
            color: #FFF;
            border-radius: 50px;
            text-align: center;
            font-size: 30px;
            box-shadow: 2px 2px 3px #999;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- WhatsApp Button -->
    <a href="https://wa.me/573000000000?text=Hola,%20me%20interesan%20sus%20certificados%20gemológicos" class="whatsapp-float" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>

    <!-- Header with Logo -->
    <header class="bg-white shadow-sm py-4">
        <div class="container mx-auto px-4">
            <div class="flex justify-center mb-6">
                <!-- Logo Space - Replace with your actual logo -->
                <div class="w-64 h-32 bg-emerald-100 flex items-center justify-center rounded-lg border border-emerald-300">
                    <span class="text-emerald-800 font-bold text-xl">LOGO DE LA TIENDA</span>
                </div>
            </div>
            
            <!-- Search Bar -->
            <div class="max-w-2xl mx-auto relative">
                <input type="text" id="certificateSearch" placeholder="Buscar certificado por código numérico..." 
                       class="w-full px-4 py-3 rounded-full border-2 border-emerald-300 focus:border-emerald-500 focus:outline-none shadow-sm">
                <button onclick="searchCertificate()" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-emerald-600 text-white px-4 py-2 rounded-full hover:bg-emerald-700 transition">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Certificate Display Area (initially hidden) -->
        <div id="certificateDisplay" class="hidden bg-white rounded-xl shadow-md overflow-hidden p-6 mb-8">
            <div class="flex flex-col md:flex-row gap-8 mb-8">
                <!-- Front Certificate -->
                <div class="certificate-container flex-1">
                    <div class="certificate bg-gray-100 p-4 rounded-lg shadow-md">
                        <img id="frontImage" src="" alt="Frente del certificado" class="w-full h-auto rounded border border-gray-300">
                        <div class="mt-4 flex justify-center">
                            <button onclick="downloadPDF('front')" class="bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded flex items-center">
                                <i class="fas fa-file-pdf mr-2"></i> Descargar PDF
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Back Certificate -->
                <div class="certificate-container flex-1">
                    <div class="certificate bg-gray-100 p-4 rounded-lg shadow-md">
                        <img id="backImage" src="" alt="Reverso del certificado" class="w-full h-auto rounded border border-gray-300">
                        <div class="mt-4 flex justify-center">
                            <button onclick="downloadPDF('back')" class="bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded flex items-center">
                                <i class="fas fa-file-pdf mr-2"></i> Descargar PDF
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Certificate Information Table -->
            <div class="bg-gray-50 rounded-lg shadow-sm p-6">
                <h3 class="text-xl font-semibold text-emerald-800 mb-4">Información del Certificado</h3>
                <div class="overflow-x-auto">
                    <table id="certificateInfo" class="w-full text-left border-collapse">
                        <tbody>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 px-4 font-medium text-gray-700 bg-gray-100">Código</td>
                                <td id="certCode" class="py-3 px-4 text-gray-600 editable">123456</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 px-4 font-medium text-gray-700 bg-gray-100">Peso (quilates)</td>
                                <td id="weight" class="py-3 px-4 text-gray-600 editable">2.45</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 px-4 font-medium text-gray-700 bg-gray-100">Brillo</td>
                                <td id="shine" class="py-3 px-4 text-gray-600 editable">Excelente</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 px-4 font-medium text-gray-700 bg-gray-100">Forma</td>
                                <td id="shape" class="py-3 px-4 text-gray-600 editable">Oval</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 px-4 font-medium text-gray-700 bg-gray-100">Medidas (mm)</td>
                                <td id="dimensions" class="py-3 px-4 text-gray-600 editable">8.5 x 6.2 x 4.3</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 px-4 font-medium text-gray-700 bg-gray-100">Material</td>
                                <td id="material" class="py-3 px-4 text-gray-600 editable">Esmeralda Colombiana</td>
                            </tr>
                            <tr class="border-b border-gray-200">
                                <td class="py-3 px-4 font-medium text-gray-700 bg-gray-100">Origen</td>
                                <td id="origin" class="py-3 px-4 text-gray-600 editable">Muzo, Boyacá</td>
                            </tr>
                            <tr>
                                <td class="py-3 px-4 font-medium text-gray-700 bg-gray-100">Tratamiento</td>
                                <td id="treatment" class="py-3 px-4 text-gray-600 editable">Sin tratamiento</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="mt-4 flex justify-end">
                    <button id="editBtn" onclick="toggleEditMode()" class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 rounded mr-2">
                        <i class="fas fa-edit mr-2"></i> Editar
                    </button>
                    <button id="saveBtn" onclick="saveChanges()" class="bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded hidden">
                        <i class="fas fa-save mr-2"></i> Guardar
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Action Buttons -->
        <div class="flex flex-col md:flex-row gap-4 justify-center my-12">
            <button onclick="openCareModal()" class="bg-emerald-100 hover:bg-emerald-200 text-emerald-800 px-6 py-4 rounded-lg shadow-sm transition flex-1 max-w-md">
                <div class="flex items-center justify-center">
                    <i class="fas fa-gem text-2xl mr-3"></i>
                    <span class="text-lg font-semibold">Cuidados Especiales para Mis Joyas</span>
                </div>
            </button>
            
            <button onclick="openLabModal()" class="bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-4 rounded-lg shadow-sm transition flex-1 max-w-md">
                <div class="flex items-center justify-center">
                    <i class="fas fa-microscope text-2xl mr-3"></i>
                    <span class="text-lg font-semibold">Laboratorio Gemológico</span>
                </div>
            </button>
        </div>
        
        <!-- Emerald Information Section -->
        <div class="info-section rounded-xl shadow-md overflow-hidden my-12">
            <div class="p-8">
                <h2 class="text-2xl font-bold text-emerald-800 mb-6">Datos Interesantes sobre las Esmeraldas</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Info Card 1 -->
                    <div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition">
                        <div class="text-emerald-600 text-4xl mb-3">
                            <i class="fas fa-globe-americas"></i>
                        </div>
                        <h3 class="font-semibold text-lg mb-2">Origen Colombiano</h3>
                        <p class="text-gray-600">Colombia produce entre el 70-90% de las esmeraldas más finas del mundo, con minas legendarias en Muzo, Chivor y Coscuez.</p>
                    </div>
                    
                    <!-- Info Card 2 -->
                    <div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition">
                        <div class="text-emerald-600 text-4xl mb-3">
                            <i class="fas fa-palette"></i>
                        </div>
                        <h3 class="font-semibold text-lg mb-2">Color Único</h3>
                        <p class="text-gray-600">El verde intenso de las esmeraldas colombianas se debe a trazas de cromo y vanadio, creando un tono inigualable.</p>
                    </div>
                    
                    <!-- Info Card 3 -->
                    <div class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition">
                        <div class="text-emerald-600 text-4xl mb-3">
                            <i class="fas fa-history"></i>
                        </div>
                        <h3 class="font-semibold text-lg mb-2">Historia Milenaria</h3>
                        <p class="text-gray-600">Los muiscas usaban esmeraldas en rituales sagrados hace más de 1000 años. Muchas piezas del tesoro de El Dorado incluían esmeraldas.</p>
                    </div>
                </div>
                
                <!-- Image Gallery -->
                <div class="mt-8 grid grid-cols-2 md:grid-cols-3 gap-4">
                    <div class="overflow-hidden rounded-lg shadow-md">
                        <img src="https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Esmeralda en bruto" class="w-full h-48 object-cover hover:scale-105 transition duration-300">
                    </div>
                    <div class="overflow-hidden rounded-lg shadow-md">
                        <img src="https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Mina de esmeraldas" class="w-full h-48 object-cover hover:scale-105 transition duration-300">
                    </div>
                    <div class="overflow-hidden rounded-lg shadow-md">
                        <img src="https://images.unsplash.com/photo-1600721391689-2169dd1577ee?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Joya con esmeralda" class="w-full h-48 object-cover hover:scale-105 transition duration-300">
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-xl p-8 w-full max-w-md">
            <h3 class="text-2xl font-bold text-emerald-800 mb-6 text-center">Acceso Administrativo</h3>
            <div class="mb-4">
                <label for="adminPassword" class="block text-gray-700 mb-2">Contraseña:</label>
                <input type="password" id="adminPassword" class="w-full px-4 py-2 border border-gray-300 rounded focus:border-emerald-500 focus:outline-none">
            </div>
            <div class="flex justify-between">
                <button onclick="closeAdminModal()" class="bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded">
                    Cancelar
                </button>
                <button onclick="checkAdminPassword()" class="bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded">
                    Ingresar
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="admin-panel fixed inset-0 bg-white z-50 overflow-y-auto p-6">
        <div class="container mx-auto">
            <div class="flex justify-between items-center mb-8">
                <h2 class="text-2xl font-bold text-emerald-800">Panel de Administración</h2>
                <button onclick="closeAdminPanel()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-2xl"></i>
                </button>
            </div>
            
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm mb-8">
                <h3 class="text-xl font-semibold text-emerald-700 mb-4">Subir Nuevo Certificado</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-gray-700 mb-2">Código del Certificado:</label>
                        <input type="text" id="adminCertCode" class="w-full px-4 py-2 border border-gray-300 rounded">
                    </div>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-gray-700 mb-2">Imagen Frontal (PNG):</label>
                        <input type="file" id="frontImageUpload" accept="image/png" class="w-full">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">Imagen Posterior (PNG):</label>
                        <input type="file" id="backImageUpload" accept="image/png" class="w-full">
                    </div>
                </div>
                
                <h4 class="font-medium text-gray-700 mb-3">Información del Certificado:</h4>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                    <div>
                        <label class="block text-gray-700 mb-1">Peso (quilates):</label>
                        <input type="text" id="adminWeight" class="w-full px-3 py-1 border border-gray-300 rounded">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-1">Brillo:</label>
                        <input type="text" id="adminShine" class="w-full px-3 py-1 border border-gray-300 rounded">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-1">Forma:</label>
                        <input type="text" id="adminShape" class="w-full px-3 py-1 border border-gray-300 rounded">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-1">Medidas (mm):</label>
                        <input type="text" id="adminDimensions" class="w-full px-3 py-1 border border-gray-300 rounded">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-1">Material:</label>
                        <input type="text" id="adminMaterial" class="w-full px-3 py-1 border border-gray-300 rounded">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-1">Origen:</label>
                        <input type="text" id="adminOrigin" class="w-full px-3 py-1 border border-gray-300 rounded">
                    </div>
                    <div class="md:col-span-2">
                        <label class="block text-gray-700 mb-1">Tratamiento:</label>
                        <input type="text" id="adminTreatment" class="w-full px-3 py-1 border border-gray-300 rounded">
                    </div>
                </div>
                
                <div class="flex justify-end">
                    <button onclick="uploadCertificate()" class="bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded">
                        <i class="fas fa-upload mr-2"></i> Subir Certificado
                    </button>
                </div>
            </div>
            
            <div class="bg-gray-50 p-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-semibold text-emerald-700 mb-4">Certificados Existentes</h3>
                <div class="overflow-x-auto">
                    <table class="w-full border-collapse">
                        <thead>
                            <tr class="bg-gray-200">
                                <th class="py-2 px-4 text-left">Código</th>
                                <th class="py-2 px-4 text-left">Acciones</th>
                            </tr>
                        </thead>
                        <tbody id="certificatesList">
                            <!-- Certificates will be listed here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Care Modal -->
    <div id="careModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-start mb-6">
                <h3 class="text-2xl font-bold text-emerald-800">Cuidados Especiales para Joyas con Esmeraldas</h3>
                <button onclick="closeCareModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="space-y-6">
                <div class="bg-emerald-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-lg text-emerald-700 mb-3 flex items-center">
                        <i class="fas fa-hand-sparkles mr-2"></i> Limpieza
                    </h4>
                    <p class="text-gray-700">
                        Las esmeraldas requieren un cuidado especial debido a sus inclusiones naturales y posibles tratamientos:
                    </p>
                    <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                        <li>Limpie con un paño suave y seco para eliminar la grasa y el polvo</li>
                        <li>Puede usar agua tibia con jabón neutro, pero evite remojar por mucho tiempo</li>
                        <li>Nunca use limpiadores ultrasónicos o vapor, pueden dañar la piedra</li>
                        <li>Evite productos químicos como perfumes, cloro o limpiadores domésticos</li>
                    </ul>
                </div>
                
                <div class="bg-emerald-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-lg text-emerald-700 mb-3 flex items-center">
                        <i class="fas fa-calendar-times mr-2"></i> Almacenamiento
                    </h4>
                    <p class="text-gray-700">
                        Guarde sus joyas con esmeraldas correctamente para prevenir daños:
                    </p>
                    <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                        <li>Almacene por separado para evitar rayones con otras joyas</li>
                        <li>Use una caja forrada en tela o un joyero con compartimentos individuales</li>
                        <li>Evite cambios bruscos de temperatura y humedad</li>
                        <li>No guarde en lugares con exposición directa a la luz solar prolongada</li>
                    </ul>
                </div>
                
                <div class="bg-emerald-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-lg text-emerald-700 mb-3 flex items-center">
                        <i class="fas fa-running mr-2"></i> Uso Diario
                    </h4>
                    <p class="text-gray-700">
                        Precauciones al usar sus joyas con esmeraldas:
                    </p>
                    <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                        <li>Quítese las joyas antes de actividades físicas intensas o deportes</li>
                        <li>Evite el contacto con superficies duras que puedan causar fracturas</li>
                        <li>No use esmeraldas en piscinas o jacuzzis (el cloro es especialmente dañino)</li>
                        <li>Retire las joyas antes de aplicar cosméticos o productos para el cabello</li>
                    </ul>
                </div>
                
                <div class="bg-emerald-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-lg text-emerald-700 mb-3 flex items-center">
                        <i class="fas fa-clipboard-check mr-2"></i> Mantenimiento Profesional
                    </h4>
                    <p class="text-gray-700">
                        Recomendaciones para el cuidado a largo plazo:
                    </p>
                    <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                        <li>Haga revisar los engarces cada 2-3 años por un joyero profesional</li>
                        <li>Las esmeraldas engarzadas en anillos pueden requerir más revisiones por el desgaste</li>
                        <li>Considere un seguro especial para joyas con piedras preciosas</li>
                        <li>Para limpiezas profundas, acuda a un especialista en gemas</li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-8 text-center">
                <button onclick="closeCareModal()" class="bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded">
                    Cerrar
                </button>
            </div>
        </div>
    </div>

    <!-- Lab Modal -->
    <div id="labModal" class="modal fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl shadow-xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto">
            <div class="flex justify-between items-start mb-6">
                <h3 class="text-2xl font-bold text-emerald-800">Laboratorio Gemológico Especializado en Esmeraldas Colombianas</h3>
                <button onclick="closeLabModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                <div>
                    <img src="https://images.unsplash.com/photo-1589149098285-aec28f6e6476?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Laboratorio Gemológico" class="w-full rounded-lg shadow-md">
                </div>
                <div>
                    <h4 class="font-semibold text-lg text-emerald-700 mb-3">Nuestra Experiencia</h4>
                    <p class="text-gray-700 mb-4">
                        Con más de 25 años de experiencia en el análisis y certificación de esmeraldas colombianas, nuestro laboratorio se ha consolidado como referente en la industria gemológica internacional. Nuestro equipo de gemólogos certificados combina tecnología de punta con conocimiento tradicional para ofrecer evaluaciones precisas y confiables.
                    </p>
                    <div class="flex items-center text-emerald-600 mb-2">
                        <i class="fas fa-certificate mr-2"></i>
                        <span>Certificación GIA (Gemological Institute of America)</span>
                    </div>
                    <div class="flex items-center text-emerald-600 mb-2">
                        <i class="fas fa-microscope mr-2"></i>
                        <span>Equipos de espectroscopia de última generación</span>
                    </div>
                    <div class="flex items-center text-emerald-600">
                        <i class="fas fa-gem mr-2"></i>
                        <span>Especialización en esmeraldas colombianas</span>
                    </div>
                </div>
            </div>
            
            <div class="space-y-6">
                <div class="bg-gray-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-lg text-emerald-700 mb-3">Metodología de Análisis</h4>
                    <p class="text-gray-700 mb-3">
                        Nuestro proceso de certificación sigue los más altos estándares internacionales:
                    </p>
                    <ol class="list-decimal pl-5 space-y-2 text-gray-700">
                        <li><strong>Examen Visual:</strong> Identificación inicial de características gemológicas bajo iluminación controlada</li>
                        <li><strong>Análisis de Inclusión:</strong> Estudio microscópico de las inclusiones naturales (jardín) para determinar origen</li>
                        <li><strong>Pruebas Ópticas:</strong> Medición de índices de refracción y birrefringencia</li>
                        <li><strong>Espectroscopia:</strong> Identificación de elementos cromóforos (cromo, vanadio, hierro)</li>
                        <li><strong>Evaluación de Tratamientos:</strong> Detección de aceites, resinas u otros tratamientos de estabilización</li>
                        <li><strong>Medición Precisas:</strong> Peso exacto en quilates y dimensiones en milímetros</li>
                    </ol>
                </div>
                
                <div class="bg-gray-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-lg text-emerald-700 mb-3">Nuestros Servicios</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="border-l-4 border-emerald-500 pl-4">
                            <h5 class="font-medium text-gray-800">Certificación Gemológica</h5>
                            <p class="text-sm text-gray-600">Documento completo con todas las características de la esmeralda</p>
                        </div>
                        <div class="border-l-4 border-emerald-500 pl-4">
                            <h5 class="font-medium text-gray-800">Evaluación de Origen</h5>
                            <p class="text-sm text-gray-600">Determinación precisa de la procedencia (Muzo, Chivor, Coscuez, etc.)</p>
                        </div>
                        <div class="border-l-4 border-emerald-500 pl-4">
                            <h5 class="font-medium text-gray-800">Detección de Tratamientos</h5>
                            <p class="text-sm text-gray-600">Identificación y clasificación de cualquier tratamiento aplicado</p>
                        </div>
                        <div class="border-l-4 border-emerald-500 pl-4">
                            <h5 class="font-medium text-gray-800">Valuación Comercial</h5>
                            <p class="text-sm text-gray-600">Estimación de valor basada en características gemológicas y mercado</p>
                        </div>
                    </div>
                </div>
                
                <div class="bg-gray-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-lg text-emerald-700 mb-3">Nuestro Compromiso</h4>
                    <p class="text-gray-700">
                        En nuestro laboratorio entendemos que cada esmeralda es única. Nos comprometemos a:
                    </p>
                    <ul class="list-disc pl-5 mt-2 space-y-1 text-gray-700">
                        <li>Precisión científica en todos nuestros informes</li>
                        <li>Ética profesional y confidencialidad absoluta</li>
                        <li>Educación continua sobre los últimos avances en gemología</li>
                        <li>Preservación de la reputación de las esmeraldas colombianas en el mundo</li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-8 text-center">
                <button onclick="closeLabModal()" class="bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2 rounded">
                    Cerrar
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Access Button -->
    <div class="fixed bottom-4 left-4">
        <button onclick="openAdminModal()" class="bg-gray-800 hover:bg-gray-900 text-white p-3 rounded-full shadow-lg">
            <i class="fas fa-lock"></i>
        </button>
    </div>

    <script>
        // Sample database for certificates
        let certificatesDB = {
            "123456": {
                frontImage: "https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
                backImage: "https://images.unsplash.com/photo-1600721391689-2169dd1577ee?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
                info: {
                    code: "123456",
                    weight: "2.45",
                    shine: "Excelente",
                    shape: "Oval",
                    dimensions: "8.5 x 6.2 x 4.3",
                    material: "Esmeralda Colombiana",
                    origin: "Muzo, Boyacá",
                    treatment: "Sin tratamiento"
                }
            },
            "789012": {
                frontImage: "https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
                backImage: "https://images.unsplash.com/photo-1571964830886-1751c31d1e0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80",
                info: {
                    code: "789012",
                    weight: "1.78",
                    shine: "Muy bueno",
                    shape: "Redonda",
                    dimensions: "7.2 x 7.2 x 4.8",
                    material: "Esmeralda Colombiana",
                    origin: "Chivor, Boyacá",
                    treatment: "Aceite natural"
                }
            }
        };

        // Search function
        function searchCertificate() {
            const searchInput = document.getElementById('certificateSearch');
            const code = searchInput.value.trim();
            
            if (certificatesDB[code]) {
                displayCertificate(code);
            } else {
                alert("Certificado no encontrado. Por favor verifique el código.");
            }
        }

        // Display certificate
        function displayCertificate(code) {
            const cert = certificatesDB[code];
            document.getElementById('frontImage').src = cert.frontImage;
            document.getElementById('backImage').src = cert.backImage;
            
            // Fill in the information
            document.getElementById('certCode').textContent = cert.info.code;
            document.getElementById('weight').textContent = cert.info.weight;
            document.getElementById('shine').textContent = cert.info.shine;
            document.getElementById('shape').textContent = cert.info.shape;
            document.getElementById('dimensions').textContent = cert.info.dimensions;
            document.getElementById('material').textContent = cert.info.material;
            document.getElementById('origin').textContent = cert.info.origin;
            document.getElementById('treatment').textContent = cert.info.treatment;
            
            // Show the certificate display
            document.getElementById('certificateDisplay').classList.remove('hidden');
            
            // Scroll to the certificate
            document.getElementById('certificateDisplay').scrollIntoView({ behavior: 'smooth' });
        }

        // Download PDF function (simulated)
        function downloadPDF(side) {
            alert(`Generando PDF de la imagen ${side === 'front' ? 'frontal' : 'posterior'}...`);
            // In a real implementation, this would generate and download a PDF
        }

        // Edit mode functions
        function toggleEditMode() {
            const editables = document.querySelectorAll('.editable');
            const editBtn = document.getElementById('editBtn');
            const saveBtn = document.getElementById('saveBtn');
            
            if (editBtn.textContent.includes('Editar')) {
                // Enable editing
                editables.forEach(el => {
                    const original = el.textContent;
                    el.innerHTML = `<input type="text" value="${original}" class="w-full px-2 py-1 border border-gray-300 rounded">`;
                });
                editBtn.classList.add('hidden');
                saveBtn.classList.remove('hidden');
            } else {
                // Disable editing
                editables.forEach(el => {
                    el.textContent = el.querySelector('input').value;
                });
                editBtn.classList.remove('hidden');
                saveBtn.classList.add('hidden');
            }
        }

        function saveChanges() {
            toggleEditMode();
            alert("Cambios guardados correctamente");
            // In a real implementation, this would save to the database
        }

        // Modal functions
        function openCareModal() {
            document.getElementById('careModal').classList.remove('hidden');
        }

        function closeCareModal() {
            document.getElementById('careModal').classList.add('hidden');
        }

        function openLabModal() {
            document.getElementById('labModal').classList.remove('hidden');
        }

        function closeLabModal() {
            document.getElementById('labModal').classList.add('hidden');
        }

        // Admin functions
        function openAdminModal() {
            document.getElementById('adminLoginModal').classList.remove('hidden');
        }

        function closeAdminModal() {
            document.getElementById('adminLoginModal').classList.add('hidden');
        }

        function checkAdminPassword() {
            const password = document.getElementById('adminPassword').value;
            if (password === "07082025") {
                closeAdminModal();
                openAdminPanel();
                loadCertificatesList();
            } else {
                alert("Contraseña incorrecta");
            }
        }

        function openAdminPanel() {
            document.getElementById('adminPanel').style.display = 'block';
        }

        function closeAdminPanel() {
            document.getElementById('adminPanel').style.display = 'none';
        }

        function loadCertificatesList() {
            const listContainer = document.getElementById('certificatesList');
            listContainer.innerHTML = '';
            
            for (const code in certificatesDB) {
                const row = document.createElement('tr');
                row.className = 'border-b border-gray-200 hover:bg-gray-100';
                row.innerHTML = `
                    <td class="py-3 px-4">${code}</td>
                    <td class="py-3 px-4">
                        <button onclick="editCertificate('${code}')" class="bg-blue-100 text-blue-700 px-3 py-1 rounded mr-2">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button onclick="deleteCertificate('${code}')" class="bg-red-100 text-red-700 px-3 py-1 rounded">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                `;
                listContainer.appendChild(row);
            }
        }

        function editCertificate(code) {
            const cert = certificatesDB[code];
            
            // Fill the form with existing data
            document.getElementById('adminCertCode').value = code;
            document.getElementById('adminWeight').value = cert.info.weight;
            document.getElementById('adminShine').value = cert.info.shine;
            document.getElementById('adminShape').value = cert.info.shape;
            document.getElementById('adminDimensions').value = cert.info.dimensions;
            document.getElementById('adminMaterial').value = cert.info.material;
            document.getElementById('adminOrigin').value = cert.info.origin;
            document.getElementById('adminTreatment').value = cert.info.treatment;
            
            // Scroll to the form
            document.querySelector('#adminPanel .container').scrollTo({ top: 0, behavior: 'smooth' });
            
            alert(`Modo edición para certificado ${code}. Actualice los campos y haga clic en "Subir Certificado" para guardar.`);
        }

        function deleteCertificate(code) {
            if (confirm(`¿Está seguro que desea eliminar el certificado ${code}?`)) {
                delete certificatesDB[code];
                loadCertificatesList();
                alert(`Certificado ${code} eliminado.`);
            }
        }

        function uploadCertificate() {
            const code = document.getElementById('adminCertCode').value.trim();
            
            if (!code) {
                alert("Por favor ingrese un código para el certificado");
                return;
            }
            
            // Get form values
            const newCert = {
                frontImage: certificatesDB[code] ? certificatesDB[code].frontImage : "",
                backImage: certificatesDB[code] ? certificatesDB[code].backImage : "",
                info: {
                    code: code,
                    weight: document.getElementById('adminWeight').value,
                    shine: document.getElementById('adminShine').value,
                    shape: document.getElementById('adminShape').value,
                    dimensions: document.getElementById('adminDimensions').value,
                    material: document.getElementById('adminMaterial').value,
                    origin: document.getElementById('adminOrigin').value,
                    treatment: document.getElementById('adminTreatment').value
                }
            };
            
            // Handle image uploads (simulated - in a real app you would upload to a server)
            const frontFile = document.getElementById('frontImageUpload').files[0];
            const backFile = document.getElementById('backImageUpload').files[0];
            
            if (frontFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    newCert.frontImage = e.target.result;
                    certificatesDB[code] = newCert;
                    alert("Certificado actualizado correctamente");
                    loadCertificatesList();
                };
                reader.readAsDataURL(frontFile);
            } else if (backFile) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    newCert.backImage = e.target.result;
                    certificatesDB[code] = newCert;
                    alert("Certificado actualizado correctamente");
                    loadCertificatesList();
                };
                reader.readAsDataURL(backFile);
            } else {
                certificatesDB[code] = newCert;
                alert("Certificado actualizado correctamente");
                loadCertificatesList();
            }
            
            // Clear file inputs
            document.getElementById('frontImageUpload').value = "";
            document.getElementById('backImageUpload').value = "";
        }

        // Allow search on Enter key
        document.getElementById('certificateSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchCertificate();
            }
        });
    </script>
</body>
</html>
